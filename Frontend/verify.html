<html>
<head>
    <script src="https://js.hcaptcha.com/1/api.js?hl=zh-CN" async defer></script>
    <script>
        function ckhswa() {
            hcaptcha.render('captcha-1', {
                sitekey: '10000000-ffff-ffff-ffff-000000000001',
                theme: 'light',
                'error-callback': 'onError',
            });
            hcaptcha.execute({ async: true })
                .then(({ response, key }) => {
                    console.log(response, key);
                    window.location.href="/verify?action=do&token="+response;
                })
                .catch(err => {
                    console.error(err);
                });
        }

        function getQueryVariable(variable){
             let query = window.location.search.substring(1);
             let vars = query.split("&");
             for (let i=0;i<vars.length;i++) {
                     let pair = vars[i].split("=");
                     if(pair[0] == variable){return pair[1];}
             }
             return(false);
        }

    </script>
</head>
<body>
<div id="tips-text" class="tips-text">
    <button onclick="ckhswa()">
        Click button to finish hCaptcha verify.
    </button>
</div>
<div id="captcha-1" class="captcha-1"></div>
</body>
</html>